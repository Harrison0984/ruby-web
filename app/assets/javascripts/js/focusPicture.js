window.onload = function () { var a = document.getElementById("box"); mouseScroll(a) }; function mouseScroll(l) { if (!l) { return false } var a = l.getElementsByTagName("ul")[0]; var f = a.getElementsByTagName("li"); var k = document.getElementById("focusBg"); var w = k.getElementsByTagName("A"); var e = []; var u = 0; var v = 0; var h = 0; var r = 0; var b = 1; var o = null; var d = null; for (var s = 0; s < f.length; s++) { e.push(f[s].offsetWidth) } r = sumFn(e); for (var s = 0; s < e.length; s++) { u += e[s] } a.style.width = u + "px"; function q() { if ($(window).outerWidth() > 1920) { l.style.width = 1920 + "px" } } q(); window.onresize = function () { q() }; var c = document.createElement("div"); for (var s = 0; s < f.length; s++) { var j = document.createElement("a"); j.href = "javascript:void(0);"; c.appendChild(j) } c.getElementsByTagName("a")[0].className = "active"; l.appendChild(c); for (var s = 0, n = l.getElementsByTagName("div")[0].getElementsByTagName("a") ; s < n.length; s++) { n[s].index = s; n[s].onmouseover = function () { clearInterval(d); v = this.index; g() }; n[s].onmouseout = function () { m() } } function x() { clearInterval(d); m(); v++; g() } function t() { clearInterval(d); m(); v--; g() } document.onkeydown = function (i) { clearInterval(d); m(); i = i || window.event; if (i.keyCode == 37) { v-- } if (i.keyCode == 39) { v++ } g() }; function g() { if (v == f.length) { v = f.length - 1 } if (v < 0) { v = 0 } for (var z = 0; z < w.length; z++) { if (v == z) { w[z].style.display = "block" } else { } } for (var z = 0; z < f.length; z++) { c.getElementsByTagName("a")[z].className = "" } c.getElementsByTagName("a")[v].className = "active"; var y = []; for (var z = 0; z < v; z++) { y.push(e[z]) } h = sumFn(y); startMove(a, { left: -h }); if ($(window).outerWidth() > 1920) { startMove(l, { width: "1920px" }) } } function p() { clearInterval(d); d = setInterval(function () { if (v == f.length - 1) { b = -(f.length - 1) } if (v == 0) { b = 1 } v += b; g() }, 4000) } p(); function m() { var i = 5; clearTimeout(o); o = setInterval(function () { if (i == 0) { clearInterval(o); p() } else { i-- } }, 1000) } } function sumFn(b) { var a = 0; for (var c = 0; c < b.length; c++) { a += b[c] } return a } function addScrollEvent() { var b = arguments[0]; var c = arguments[1]; function a(e) { var d = e || event; var f = false; if (d.wheelDelta) { f = d.wheelDelta < 0 ? true : false } else { f = d.detail < 0 ? false : true } if (f) { c[0]() } else { c[1]() } if (d.preventDefault) { d.preventDefault() } return false } if (b.addEventListener) { b.addEventListener("DOMMouseScroll", a, false) } b.onmousewheel = a } function startMove(c, b, a) { if (c.timer) { clearInterval(c.timer) } c.timer = setInterval(function () { doMove(c, b, a); document.getElementById("box").style.left = "0px" }, 30) } function getStyle(b, a) { if (b.currentStyle) { return b.currentStyle[a] } else { return getComputedStyle(b, false)[a] } } function doMove(e, c, b) { var g = 0; var a = ""; var d = true; for (a in c) { if (a == "opacity") { g = parseInt(100 * parseFloat(getStyle(e, "opacity"))) } else { g = parseInt(getStyle(e, a)) } if (isNaN(g)) { g = 0 } var f = (c[a] - g) / 6; f = f > 0 ? Math.ceil(f) : Math.floor(f); if (c[a] != g) { d = false } if (a == "opacity") { e.style.filter = "alpha(opacity:" + (g + f) + ")"; e.style.opacity = (g + f) / 100 } else { e.style[a] = g + f + "px" } } if (d) { clearInterval(e.timer); e.timer = null; if (b) { b() } } };